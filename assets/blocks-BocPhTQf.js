import{r as I,j as e,u as ee,a as L,S as m,B as o,E as te,b as f,c as W,I as D,d as K,e as G,f as le,i as se}from"./index-DN4aQ-y9.js";const ie=({children:c,className:r="",ratio:t="1:1",gap:x="md",reverse:s=!1,align:i="start"})=>{const l=I.Children.toArray(c);l.length!==2&&console.warn(`SplitLayout expects exactly 2 children, but received ${l.length}`);const a={"1:1":"grid-cols-1 md:grid-cols-2","1:2":"grid-cols-1 md:grid-cols-3","2:1":"grid-cols-1 md:grid-cols-3","1:3":"grid-cols-1 md:grid-cols-4","3:1":"grid-cols-1 md:grid-cols-4","2:3":"grid-cols-1 md:grid-cols-5","3:2":"grid-cols-1 md:grid-cols-5"},h={"1:1":["",""],"1:2":["md:col-span-1","md:col-span-2"],"2:1":["md:col-span-2","md:col-span-1"],"1:3":["md:col-span-1","md:col-span-3"],"3:1":["md:col-span-3","md:col-span-1"],"2:3":["md:col-span-2","md:col-span-3"],"3:2":["md:col-span-3","md:col-span-2"]},n={none:"gap-0",sm:"gap-3",md:"gap-6",lg:"gap-8",xl:"gap-12"},d={start:"items-start",center:"items-center",end:"items-end",stretch:"items-stretch"},[g,y]=s?[l[1],l[0]]:l,[j,k]=s?[h[t][1],h[t][0]]:h[t];return e.jsxs("div",{className:`grid ${a[t]} ${n[x]} ${d[i]} ${r}`,"data-layout-type":"split","data-layout-ratio":t,children:[e.jsx("div",{className:j,children:g}),e.jsx("div",{className:k,children:y})]})},ne=({children:c,className:r="",columns:t=3,tabletColumns:x,mobileColumns:s=1,gap:i="md",align:l="start"})=>{const a={1:"md:grid-cols-1 lg:grid-cols-1",2:"md:grid-cols-2 lg:grid-cols-2",3:"md:grid-cols-2 lg:grid-cols-3",4:"md:grid-cols-3 lg:grid-cols-4",5:"md:grid-cols-3 lg:grid-cols-5",6:"md:grid-cols-4 lg:grid-cols-6"},h={1:"md:grid-cols-1",2:"md:grid-cols-2",3:"md:grid-cols-3",4:"md:grid-cols-4"},n={1:"grid-cols-1",2:"grid-cols-2"},d={none:"gap-0",sm:"gap-3",md:"gap-6",lg:"gap-8",xl:"gap-12"},g={start:"items-start",center:"items-center",end:"items-end",stretch:"items-stretch"},y=x?`${n[s]} ${h[x]} lg:grid-cols-${t}`:`${n[s]} ${a[t]}`;return e.jsx("div",{className:`grid ${y} ${d[i]} ${g[l]} ${r}`,"data-layout-type":"grid","data-layout-columns":t,children:c})},T=({children:c,className:r=""})=>e.jsx("div",{className:`step-content w-full ${r}`,children:c});function re({gateVarName:c,onReady:r}){const t=L(c,""),x=I.useRef(!1),s=t!==""&&t!==0&&t!==!1;return I.useEffect(()=>{if(s&&!x.current){x.current=!0;const i=setTimeout(r,700);return()=>clearTimeout(i)}},[s,r]),null}function oe({label:c,onClick:r,gateVarName:t,isLast:x}){const s=L(t??"__step_no_gate__",""),i=!t||s!==""&&s!==0&&s!==!1;return x?null:e.jsxs("div",{className:"flex flex-col items-start gap-1.5 mt-4",children:[t&&!i&&e.jsx("p",{className:"text-xs text-[#3cc499]/70 italic",children:"Complete the activity above to continue."}),e.jsxs("button",{onClick:r,disabled:!i,className:`
                    inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium
                    bg-[#3cc499] text-white shadow
                    transition-all duration-150
                    hover:opacity-90 active:scale-95
                    disabled:opacity-30 disabled:cursor-not-allowed disabled:pointer-events-none
                    focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#3cc499]
                    select-none
                `,children:[e.jsx("span",{children:c}),e.jsx("span",{className:"text-base leading-none",children:"→"})]})]})}const ce=({children:c,className:r="",varName:t,revealLabel:x="Continue",showProgress:s=!0,allowBack:i=!1,onStepReveal:l})=>{const a=I.Children.toArray(c),h=a.length,[n,d]=I.useState(0),g=ee(),y=I.useCallback(p=>{p<0||p>=h||(d(p),t&&g(t,p),l==null||l(p))},[h,t,g,l]),j=I.useCallback(p=>y(p+1),[y]),k=I.useCallback(p=>y(Math.max(0,p-1)),[y]),M=p=>I.isValidElement(p)&&p.type===T?p.props:{},b=s&&h>1&&e.jsxs("div",{className:"mb-5 text-xs font-medium text-[#3cc499]/60 tracking-wide select-none",children:["Step ",n+1," / ",h]});return e.jsxs("div",{className:`w-full flex flex-col ${r}`,"data-layout-type":"step","data-layout-total":h,"data-layout-revealed":n,children:[b,e.jsx("div",{className:"flex flex-col",children:a.map((p,S)=>{const w=S===n,$=S>n,C=S===h-1,u=M(p),z=u.revealLabel??x,B=!!u.autoAdvance&&!!u.completionVarName;return $?null:e.jsxs("div",{className:`
                                w-full
                                animate-in fade-in slide-in-from-bottom-3 duration-500
                                ${S>0?"pt-6 mt-2":""}
                            `,children:[e.jsx("div",{children:p}),w&&B&&!C&&e.jsx(re,{gateVarName:u.completionVarName,onReady:()=>j(S)}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[w&&!B&&e.jsx(oe,{label:z,onClick:()=>j(S),gateVarName:u.completionVarName,isLast:C}),i&&S>0&&w&&e.jsxs("button",{onClick:()=>k(S),className:`
                                            inline-flex items-center gap-1.5 mt-4 px-3 py-2 rounded-xl
                                            text-xs font-medium text-[#3cc499]
                                            border border-[#3cc499]/30 bg-background
                                            hover:bg-[#3cc499]/10
                                            transition-all duration-150 select-none
                                            focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#3cc499]
                                        `,children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Back"})]})]})]},S)})})]})},q={lerpT:{defaultValue:.5,type:"number",label:"t (interpolation)",description:"The interpolation parameter - 0 means start point, 1 means end point",min:0,max:1,step:.01,color:"#22c55e"},numSteps:{defaultValue:7,type:"number",label:"Number of Steps",description:"How many steps to divide the line into",min:1,max:15,step:1,color:"#3b82f6"},discreteStep:{defaultValue:0,type:"number",label:"Current Step",description:"Tracks progress through the discrete section",min:0,max:4,step:1}},Q=c=>q[c],de=()=>{const c={};for(const[r,t]of Object.entries(q))c[r]=t.defaultValue;return c};function Z(c){return!c||c.type!=="number"?{}:{defaultValue:c.defaultValue,min:c.min,max:c.max,step:c.step,...c.color?{color:c.color}:{}}}function ae(){const[t,x]=I.useState({x:2,y:2}),[s,i]=I.useState({x:9,y:8}),[l,a]=I.useState(null),n=I.useCallback((b,p)=>{const S=[],w=Math.abs(p.x-b.x),$=Math.abs(p.y-b.y),C=Math.max(w,$);for(let u=0;u<=C;u++){const z=C===0?0:u/C,B=Math.round(b.x+(p.x-b.x)*z),A=Math.round(b.y+(p.y-b.y)*z);S.push({x:B,y:A})}return S},[])(t,s),d=new Set(n.map(b=>`${b.x},${b.y}`)),g=(b,p)=>{const S=Math.abs(b-t.x)+Math.abs(p-t.y),w=Math.abs(b-s.x)+Math.abs(p-s.y);S<=1?a("A"):w<=1?a("B"):S<w?(x({x:b,y:p}),a("A")):(i({x:b,y:p}),a("B"))},y=(b,p)=>{l==="A"?x({x:b,y:p}):l==="B"&&i({x:b,y:p})},j=()=>{a(null)},k=12*36,M=12*36;return e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("svg",{width:k,height:M,className:"border border-border rounded-lg bg-card shadow-sm cursor-crosshair select-none",onMouseUp:j,onMouseLeave:j,children:[Array.from({length:12},(b,p)=>Array.from({length:12},(S,w)=>{const $=d.has(`${w},${p}`),C=w===t.x&&p===t.y,u=w===s.x&&p===s.y;return e.jsx("rect",{x:w*36,y:p*36,width:36,height:36,fill:C?"hsl(220, 90%, 56%)":u?"hsl(280, 70%, 60%)":$?"hsl(220, 90%, 85%)":"transparent",stroke:"hsl(220, 30%, 90%)",strokeWidth:1,className:"transition-colors duration-100",onMouseDown:()=>g(w,p),onMouseMove:()=>y(w,p)},`${w}-${p}`)})),e.jsx("line",{x1:t.x*36+36/2,y1:t.y*36+36/2,x2:s.x*36+36/2,y2:s.y*36+36/2,stroke:"hsl(220, 90%, 40%)",strokeWidth:2,strokeDasharray:"4 2",opacity:.6,pointerEvents:"none"}),e.jsx("circle",{cx:t.x*36+36/2,cy:t.y*36+36/2,r:8,fill:"hsl(220, 90%, 56%)",stroke:"white",strokeWidth:2,className:"cursor-grab",onMouseDown:()=>a("A")}),e.jsx("circle",{cx:s.x*36+36/2,cy:s.y*36+36/2,r:8,fill:"hsl(280, 70%, 60%)",stroke:"white",strokeWidth:2,className:"cursor-grab",onMouseDown:()=>a("B")}),e.jsxs("text",{x:t.x*36+36/2,y:t.y*36+36/2-14,textAnchor:"middle",fill:"hsl(220, 90%, 40%)",fontSize:"12",fontWeight:"600",children:["A (",t.x,", ",t.y,")"]}),e.jsxs("text",{x:s.x*36+36/2,y:s.y*36+36/2-14,textAnchor:"middle",fill:"hsl(280, 70%, 45%)",fontSize:"12",fontWeight:"600",children:["B (",s.x,", ",s.y,")"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md",children:"Drag the endpoints A and B to see how the line is drawn on the grid. The highlighted cells show which grid squares the line passes through."})]})}const he=[e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-intro-title",padding:"lg",children:e.jsx(te,{id:"h1-intro-title",blockId:"block-intro-title",children:"Line Drawing on a Grid"})})},"layout-intro-title"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-intro-text",padding:"sm",children:e.jsx(f,{id:"para-intro-text",blockId:"block-intro-text",children:"How do computers draw straight lines? On a screen made of tiny squares (pixels), drawing a perfectly smooth line isn't straightforward. We need to decide which squares to color to create the illusion of a continuous line."})})},"layout-intro-text"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-intro-why",padding:"sm",children:e.jsx(W,{id:"h2-intro-why",blockId:"block-intro-why",children:"Why Does This Matter?"})})},"layout-intro-why"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-intro-uses",padding:"sm",children:e.jsx(f,{id:"para-intro-uses",blockId:"block-intro-uses",children:"Line drawing algorithms are everywhere! They're used in video games for drawing projectile paths, in graphics software for rendering shapes, and in mapping applications for calculating routes. Understanding how to draw lines on grids also helps us think about the relationship between continuous mathematics and discrete computation."})})},"layout-intro-uses"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-intro-demo-title",padding:"sm",children:e.jsx(W,{id:"h2-intro-demo-title",blockId:"block-intro-demo-title",children:"Try It Yourself"})})},"layout-intro-demo-title"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-intro-demo-text",padding:"sm",children:e.jsx(f,{id:"para-intro-demo-text",blockId:"block-intro-demo-text",children:"Below is an interactive grid. Drag the two endpoints to see which grid cells are selected to represent the line. Notice how the algorithm chooses cells that best approximate a straight line between the points."})})},"layout-intro-demo-text"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-intro-demo",padding:"md",children:e.jsx(ae,{})})},"layout-intro-demo"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-intro-challenge",padding:"sm",children:e.jsx(W,{id:"h2-intro-challenge",blockId:"block-intro-challenge",children:"The Challenge"})})},"layout-intro-challenge"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-intro-challenge-text",padding:"sm",children:e.jsx(f,{id:"para-intro-challenge-text",blockId:"block-intro-challenge-text",children:"The key question is: given two points on a grid, how do we determine which cells should be filled in? In the next section, we'll explore a simple and elegant solution using linear interpolation."})})},"layout-intro-challenge-text")];function xe(){const c=L("lerpT",.5),r={x:50,y:250},t={x:350,y:80},x=(h,n,d)=>h+(n-h)*d,s=x(r.x,t.x,c),i=x(r.y,t.y,c),l=400,a=300;return e.jsx("div",{className:"flex flex-col items-center gap-4",children:e.jsxs("svg",{width:l,height:a,className:"border border-border rounded-lg bg-card shadow-sm",children:[Array.from({length:9},(h,n)=>e.jsx("line",{x1:n*50,y1:0,x2:n*50,y2:a,stroke:"hsl(220, 30%, 92%)",strokeWidth:1},`v${n}`)),Array.from({length:7},(h,n)=>e.jsx("line",{x1:0,y1:n*50,x2:l,y2:n*50,stroke:"hsl(220, 30%, 92%)",strokeWidth:1},`h${n}`)),e.jsx("line",{x1:r.x,y1:r.y,x2:t.x,y2:t.y,stroke:"hsl(220, 30%, 70%)",strokeWidth:2,strokeDasharray:"6 4"}),e.jsx("line",{x1:r.x,y1:r.y,x2:s,y2:i,stroke:"hsl(220, 90%, 56%)",strokeWidth:3}),e.jsx("circle",{cx:r.x,cy:r.y,r:10,fill:"hsl(220, 90%, 56%)",stroke:"white",strokeWidth:2}),e.jsx("text",{x:r.x-25,y:r.y+5,fill:"hsl(220, 90%, 40%)",fontSize:"14",fontWeight:"600",children:"A"}),e.jsx("circle",{cx:t.x,cy:t.y,r:10,fill:"hsl(280, 70%, 60%)",stroke:"white",strokeWidth:2}),e.jsx("text",{x:t.x+15,y:t.y+5,fill:"hsl(280, 70%, 45%)",fontSize:"14",fontWeight:"600",children:"B"}),e.jsx("circle",{cx:s,cy:i,r:12,fill:"hsl(150, 80%, 45%)",stroke:"white",strokeWidth:3}),e.jsxs("text",{x:s,y:i-20,textAnchor:"middle",fill:"hsl(150, 80%, 35%)",fontSize:"13",fontWeight:"600",children:["t = ",c.toFixed(2)]}),e.jsx("rect",{x:30,y:a-25,width:l-60,height:8,rx:4,fill:"hsl(220, 30%, 90%)"}),e.jsx("rect",{x:30,y:a-25,width:(l-60)*c,height:8,rx:4,fill:"hsl(220, 90%, 56%)"}),e.jsx("text",{x:30,y:a-30,fill:"hsl(220, 30%, 50%)",fontSize:"11",children:"t = 0"}),e.jsx("text",{x:l-50,y:a-30,fill:"hsl(220, 30%, 50%)",fontSize:"11",children:"t = 1"})]})})}function pe(){const c=L("lerpT",.5),r=2,t=8,x=r+(t-r)*c,s=380,i=80,l=40,a=30,h=s-30,n=(h-a)/10,d=a+r*n,g=a+t*n,y=a+x*n;return e.jsxs("svg",{width:s,height:i,className:"mx-auto",children:[e.jsx("line",{x1:a,y1:l,x2:h,y2:l,stroke:"hsl(220, 30%, 80%)",strokeWidth:2}),Array.from({length:11},(j,k)=>e.jsxs("g",{children:[e.jsx("line",{x1:a+k*n,y1:l-5,x2:a+k*n,y2:l+5,stroke:"hsl(220, 30%, 70%)",strokeWidth:1}),e.jsx("text",{x:a+k*n,y:l+20,textAnchor:"middle",fill:"hsl(220, 30%, 50%)",fontSize:"10",children:k})]},k)),e.jsx("circle",{cx:d,cy:l,r:6,fill:"hsl(220, 90%, 56%)"}),e.jsxs("text",{x:d,y:l-12,textAnchor:"middle",fill:"hsl(220, 90%, 40%)",fontSize:"12",fontWeight:"600",children:["a = ",r]}),e.jsx("circle",{cx:g,cy:l,r:6,fill:"hsl(280, 70%, 60%)"}),e.jsxs("text",{x:g,y:l-12,textAnchor:"middle",fill:"hsl(280, 70%, 45%)",fontSize:"12",fontWeight:"600",children:["b = ",t]}),e.jsx("circle",{cx:y,cy:l,r:8,fill:"hsl(150, 80%, 45%)",stroke:"white",strokeWidth:2}),e.jsx("text",{x:y,y:l-15,textAnchor:"middle",fill:"hsl(150, 80%, 35%)",fontSize:"11",fontWeight:"600",children:x.toFixed(1)})]})}const ge=[e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-lerp-title",padding:"lg",children:e.jsx(W,{id:"h2-lerp-title",blockId:"block-lerp-title",children:"The Secret Ingredient: Linear Interpolation"})})},"layout-lerp-title"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-lerp-intro",padding:"sm",children:e.jsxs(f,{id:"para-lerp-intro",blockId:"block-lerp-intro",children:["Before we draw lines on a grid, we need to understand a powerful concept called",e.jsx("strong",{children:" linear interpolation"}),`, often called "lerp" for short. It's a simple way to find any point along a line between two endpoints.`]})})},"layout-lerp-intro"),e.jsxs(ie,{ratio:"1:1",gap:"lg",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{id:"block-lerp-formula",padding:"sm",children:e.jsxs(f,{id:"para-lerp-formula",blockId:"block-lerp-formula",children:["The lerp formula is beautifully simple. To find a point between"," ",e.jsx(D,{latex:"a",colorMap:{a:"#3b82f6"}})," and"," ",e.jsx(D,{latex:"b",colorMap:{b:"#a855f7"}}),", we use:"]})}),e.jsx(o,{id:"block-lerp-equation",padding:"sm",children:e.jsx("div",{className:"bg-secondary/30 rounded-lg p-4 text-center",children:e.jsx(D,{latex:"\\text{lerp}(a, b, t) = a + (b - a) \\cdot t",colorMap:{a:"#3b82f6",b:"#a855f7",t:"#22c55e"}})})}),e.jsx(o,{id:"block-lerp-explain-t",padding:"sm",children:e.jsxs(f,{id:"para-lerp-explain-t",blockId:"block-lerp-explain-t",children:["The parameter"," ",e.jsx(D,{latex:"t",colorMap:{t:"#22c55e"}})," ","controls where we are along the line. When"," ",e.jsx(D,{latex:"t = 0",colorMap:{t:"#22c55e"}}),", we're at point A. When"," ",e.jsx(D,{latex:"t = 1",colorMap:{t:"#22c55e"}}),", we're at point B. For any value in between, we get a point along the line!"]})}),e.jsx(o,{id:"block-lerp-scrubber",padding:"sm",children:e.jsxs(f,{id:"para-lerp-scrubber",blockId:"block-lerp-scrubber",children:["Try changing t ="," ",e.jsx(K,{varName:"lerpT",...Z(Q("lerpT")),formatValue:c=>c.toFixed(2)})," ","and watch the green point move between A and B. The formula gives us a smooth, continuous path from start to finish."]})})]}),e.jsx(o,{id:"block-lerp-viz",padding:"sm",children:e.jsx(xe,{})})]},"layout-lerp-main"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-lerp-numberline-title",padding:"sm",children:e.jsx(W,{id:"h2-lerp-numberline",blockId:"block-lerp-numberline-title",children:"Lerp on a Number Line"})})},"layout-lerp-numberline-title"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-lerp-numberline-text",padding:"sm",children:e.jsx(f,{id:"para-lerp-numberline",blockId:"block-lerp-numberline-text",children:"Let's see lerp in action with simple numbers. If a = 2 and b = 8, the formula finds any point between them. Watch the green marker as you change t above:"})})},"layout-lerp-numberline-text"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-lerp-numberline-viz",padding:"md",children:e.jsx(pe,{})})},"layout-lerp-numberline-viz"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-lerp-2d-title",padding:"sm",children:e.jsx(W,{id:"h2-lerp-2d",blockId:"block-lerp-2d-title",children:"Extending to 2D Points"})})},"layout-lerp-2d-title"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-lerp-2d-text",padding:"sm",children:e.jsx(f,{id:"para-lerp-2d",blockId:"block-lerp-2d-text",children:"The magic of lerp is that it works on anything — numbers, points, even colors! For 2D points, we simply apply lerp to both the x and y coordinates separately:"})})},"layout-lerp-2d-text"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-lerp-2d-formula",padding:"sm",children:e.jsxs("div",{className:"bg-secondary/30 rounded-lg p-4 text-center space-y-2",children:[e.jsx(D,{latex:"x = x_0 + (x_1 - x_0) \\cdot t",colorMap:{x:"#22c55e",t:"#22c55e"}}),e.jsx("br",{}),e.jsx(D,{latex:"y = y_0 + (y_1 - y_0) \\cdot t",colorMap:{y:"#22c55e",t:"#22c55e"}})]})})},"layout-lerp-2d-formula"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-lerp-next",padding:"sm",children:e.jsx(f,{id:"para-lerp-next",blockId:"block-lerp-next",children:"Now we have a way to find any point along a line. But how do we go from this continuous line to discrete grid cells? That's what we'll explore next!"})})},"layout-lerp-next")];function me(){const c=L("numSteps",5),r={x:1,y:1},t={x:8,y:6},x=[];for(let h=0;h<=c;h++){const n=c===0?0:h/c,d=r.x+(t.x-r.x)*n,g=r.y+(t.y-r.y)*n;x.push({x:d,y:g,t:n})}const s=10,i=36,l=s*i,a=s*i;return e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsxs("svg",{width:l,height:a,className:"border border-border rounded-lg bg-card shadow-sm",children:[Array.from({length:s+1},(h,n)=>e.jsxs("g",{children:[e.jsx("line",{x1:n*i,y1:0,x2:n*i,y2:a,stroke:"hsl(220, 30%, 92%)",strokeWidth:1}),e.jsx("line",{x1:0,y1:n*i,x2:l,y2:n*i,stroke:"hsl(220, 30%, 92%)",strokeWidth:1})]},n)),e.jsx("line",{x1:r.x*i,y1:(s-r.y)*i,x2:t.x*i,y2:(s-t.y)*i,stroke:"hsl(220, 30%, 70%)",strokeWidth:2,strokeDasharray:"4 2"}),x.map((h,n)=>e.jsxs("g",{children:[e.jsx("circle",{cx:h.x*i,cy:(s-h.y)*i,r:6,fill:"hsl(150, 80%, 45%)",stroke:"white",strokeWidth:2}),e.jsxs("text",{x:h.x*i+10,y:(s-h.y)*i-8,fill:"hsl(150, 80%, 35%)",fontSize:"9",children:["(",h.x.toFixed(1),", ",h.y.toFixed(1),")"]})]},n)),e.jsx("circle",{cx:r.x*i,cy:(s-r.y)*i,r:8,fill:"hsl(220, 90%, 56%)",stroke:"white",strokeWidth:2}),e.jsx("circle",{cx:t.x*i,cy:(s-t.y)*i,r:8,fill:"hsl(280, 70%, 60%)",stroke:"white",strokeWidth:2})]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Continuous points along the line (decimal coordinates)"})]})}function ue(){const c=L("numSteps",5),r={x:1,y:1},t={x:8,y:6},x=[],s=new Set;for(let n=0;n<=c;n++){const d=c===0?0:n/c,g=r.x+(t.x-r.x)*d,y=r.y+(t.y-r.y)*d,j=Math.round(g),k=Math.round(y);x.push({x:g,y,rx:j,ry:k,t:d}),s.add(`${j},${k}`)}const i=10,l=36,a=i*l,h=i*l;return e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsxs("svg",{width:a,height:h,className:"border border-border rounded-lg bg-card shadow-sm",children:[Array.from({length:i},(n,d)=>Array.from({length:i},(g,y)=>{const j=s.has(`${y},${i-1-d}`);return e.jsx("rect",{x:y*l,y:d*l,width:l,height:l,fill:j?"hsl(220, 90%, 85%)":"transparent",stroke:"hsl(220, 30%, 92%)",strokeWidth:1},`${y}-${d}`)})),e.jsx("line",{x1:r.x*l,y1:(i-r.y)*l,x2:t.x*l,y2:(i-t.y)*l,stroke:"hsl(220, 30%, 70%)",strokeWidth:2,strokeDasharray:"4 2"}),x.map((n,d)=>e.jsx("line",{x1:n.x*l,y1:(i-n.y)*l,x2:(n.rx+.5)*l,y2:(i-n.ry-.5)*l,stroke:"hsl(40, 90%, 50%)",strokeWidth:1.5,strokeDasharray:"3 2",markerEnd:"url(#arrowhead)"},`arrow-${d}`)),e.jsx("defs",{children:e.jsx("marker",{id:"arrowhead",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:e.jsx("polygon",{points:"0 0, 6 3, 0 6",fill:"hsl(40, 90%, 50%)"})})}),x.map((n,d)=>e.jsx("circle",{cx:n.x*l,cy:(i-n.y)*l,r:4,fill:"hsl(150, 80%, 45%)",opacity:.5},`cont-${d}`)),Array.from(s).map(n=>{const[d,g]=n.split(",").map(Number);return e.jsx("circle",{cx:(d+.5)*l,cy:(i-g-.5)*l,r:8,fill:"hsl(220, 90%, 56%)",stroke:"white",strokeWidth:2},n)})]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Points rounded to nearest grid cells (integers)"})]})}function ye(){const c={x:1,y:1},r={x:8,y:6},t=Math.abs(r.x-c.x),x=Math.abs(r.y-c.y),s=Math.max(t,x),i=10,l=36,a=i*l,h=i*l;return e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsxs("svg",{width:a,height:h,className:"border border-border rounded-lg bg-card shadow-sm",children:[Array.from({length:i+1},(n,d)=>e.jsxs("g",{children:[e.jsx("line",{x1:d*l,y1:0,x2:d*l,y2:h,stroke:"hsl(220, 30%, 92%)",strokeWidth:1}),e.jsx("line",{x1:0,y1:d*l,x2:a,y2:d*l,stroke:"hsl(220, 30%, 92%)",strokeWidth:1})]},d)),e.jsx("line",{x1:c.x*l,y1:(i-c.y)*l+20,x2:r.x*l,y2:(i-c.y)*l+20,stroke:"hsl(220, 90%, 56%)",strokeWidth:3}),e.jsxs("text",{x:(c.x+r.x)/2*l,y:(i-c.y)*l+40,textAnchor:"middle",fill:"hsl(220, 90%, 40%)",fontSize:"12",fontWeight:"600",children:["dx = ",t]}),e.jsx("line",{x1:r.x*l+20,y1:(i-c.y)*l,x2:r.x*l+20,y2:(i-r.y)*l,stroke:"hsl(280, 70%, 60%)",strokeWidth:3}),e.jsxs("text",{x:r.x*l+40,y:(i-(c.y+r.y)/2)*l,fill:"hsl(280, 70%, 45%)",fontSize:"12",fontWeight:"600",children:["dy = ",x]}),e.jsx("circle",{cx:c.x*l,cy:(i-c.y)*l,r:8,fill:"hsl(220, 90%, 56%)",stroke:"white",strokeWidth:2}),e.jsx("circle",{cx:r.x*l,cy:(i-r.y)*l,r:8,fill:"hsl(280, 70%, 60%)",stroke:"white",strokeWidth:2}),e.jsxs("text",{x:a/2,y:30,textAnchor:"middle",fill:"hsl(150, 80%, 35%)",fontSize:"14",fontWeight:"600",children:["N = max(",t,", ",x,") = ",s]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["We need ",s+1," points (N = ",s," steps)"]})]})}const be=[e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-discrete-title",padding:"lg",children:e.jsx(W,{id:"h2-discrete-title",blockId:"block-discrete-title",children:"From Continuous to Discrete"})})},"layout-discrete-title"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-discrete-intro",padding:"sm",children:e.jsx(f,{id:"para-discrete-intro",blockId:"block-discrete-intro",children:"Now we know how to find any point along a line using lerp. But a grid only has whole-number coordinates — we can't color half a cell! Let's discover how to convert our smooth, continuous line into discrete grid cells."})})},"layout-discrete-intro"),e.jsx(m,{maxWidth:"xl",children:e.jsxs(ce,{varName:"discreteStep",revealLabel:"Next Step",showProgress:!0,children:[e.jsxs(T,{children:[e.jsx(o,{id:"block-discrete-step1",padding:"sm",children:e.jsx(W,{id:"h2-discrete-step1",blockId:"block-discrete-step1",children:"Step 1: The Problem"})}),e.jsx(o,{id:"block-discrete-step1-text",padding:"sm",children:e.jsx(f,{id:"para-discrete-step1",blockId:"block-discrete-step1-text",children:"When we use lerp, we get points with decimal coordinates like (3.5, 2.7). But grid cells only exist at whole numbers like (3, 2) or (4, 3). We need a way to decide which cell each point belongs to."})})]}),e.jsxs(T,{children:[e.jsx(o,{id:"block-discrete-step2",padding:"sm",children:e.jsx(W,{id:"h2-discrete-step2",blockId:"block-discrete-step2",children:"Step 2: How Many Points Do We Need?"})}),e.jsx(o,{id:"block-discrete-step2-text",padding:"sm",children:e.jsxs(f,{id:"para-discrete-step2",blockId:"block-discrete-step2-text",children:["First, we need to figure out how many sample points to take. The answer is the ",e.jsx("strong",{children:"diagonal distance"}),": the maximum of the horizontal and vertical distances between our endpoints."]})}),e.jsx(o,{id:"block-discrete-step2-formula",padding:"sm",children:e.jsx("div",{className:"bg-secondary/30 rounded-lg p-4 text-center",children:e.jsx(D,{latex:"N = \\max(|x_1 - x_0|, |y_1 - y_0|)",colorMap:{N:"#22c55e"}})})}),e.jsx(o,{id:"block-discrete-step2-viz",padding:"md",children:e.jsx(ye,{})})]}),e.jsxs(T,{children:[e.jsx(o,{id:"block-discrete-step3",padding:"sm",children:e.jsx(W,{id:"h2-discrete-step3",blockId:"block-discrete-step3",children:"Step 3: Sample the Line"})}),e.jsx(o,{id:"block-discrete-step3-text",padding:"sm",children:e.jsxs(f,{id:"para-discrete-step3",blockId:"block-discrete-step3-text",children:["Now we use lerp to create N+1 evenly-spaced points along the line. Try changing the number of steps:"," ",e.jsx(K,{varName:"numSteps",...Z(Q("numSteps"))})," ","to see how it affects the points."]})}),e.jsx(o,{id:"block-discrete-step3-viz",padding:"md",children:e.jsx(me,{})})]}),e.jsxs(T,{children:[e.jsx(o,{id:"block-discrete-step4",padding:"sm",children:e.jsx(W,{id:"h2-discrete-step4",blockId:"block-discrete-step4",children:"Step 4: Round to Grid Cells"})}),e.jsx(o,{id:"block-discrete-step4-text",padding:"sm",children:e.jsxs(f,{id:"para-discrete-step4",blockId:"block-discrete-step4-text",children:["Finally, we ",e.jsx("strong",{children:"round"})," each continuous point to its nearest grid cell. This converts decimal coordinates to whole numbers. The orange arrows below show each point snapping to its nearest cell:"]})}),e.jsx(o,{id:"block-discrete-step4-viz",padding:"md",children:e.jsx(ue,{})})]}),e.jsxs(T,{children:[e.jsx(o,{id:"block-discrete-step5",padding:"sm",children:e.jsx(W,{id:"h2-discrete-step5",blockId:"block-discrete-step5",children:"That's It!"})}),e.jsx(o,{id:"block-discrete-step5-text",padding:"sm",children:e.jsx(f,{id:"para-discrete-step5",blockId:"block-discrete-step5-text",children:"And there we have it — a complete line drawing algorithm in three simple steps:"})}),e.jsx(o,{id:"block-discrete-step5-summary",padding:"sm",children:e.jsxs("div",{className:"bg-secondary/30 rounded-lg p-4 space-y-2",children:[e.jsxs("p",{className:"text-foreground",children:[e.jsx("strong",{children:"1."})," Calculate N (diagonal distance)"]}),e.jsxs("p",{className:"text-foreground",children:[e.jsx("strong",{children:"2."})," Create N+1 interpolation points using lerp"]}),e.jsxs("p",{className:"text-foreground",children:[e.jsx("strong",{children:"3."})," Round each point to the nearest grid cell"]})]})}),e.jsx(o,{id:"block-discrete-step5-next",padding:"sm",children:e.jsx(f,{id:"para-discrete-step5-next",blockId:"block-discrete-step5-next",children:"In the next section, we'll put it all together into a complete working algorithm!"})})]})]})},"layout-discrete-steps")];function je(){const[t,x]=I.useState({x:2,y:11}),[s,i]=I.useState({x:11,y:3}),[l,a]=I.useState(null),[h,n]=I.useState(!0),d=I.useCallback((u,z)=>{const B=Math.abs(z.x-u.x),A=Math.abs(z.y-u.y),_=Math.max(B,A),V=[],P=[],O=new Set;for(let E=0;E<=_;E++){const F=_===0?0:E/_,X=u.x+(z.x-u.x)*F,R=u.y+(z.y-u.y)*F,U=Math.round(X),H=Math.round(R),J=`${U},${H}`;O.has(J)||(O.add(J),V.push({x:U,y:H})),P.push({t:F,continuous:{x:X,y:R},rounded:{x:U,y:H}})}return{cells:V,steps:P}},[]),{cells:g,steps:y}=d(t,s),j=new Set(g.map(u=>`${u.x},${u.y}`)),k=Math.abs(s.x-t.x),M=Math.abs(s.y-t.y),b=Math.max(k,M),p=(u,z)=>{const B=Math.abs(u-t.x)+Math.abs(z-t.y),A=Math.abs(u-s.x)+Math.abs(z-s.y);B<=1?a("A"):A<=1?a("B"):B<A?(x({x:u,y:z}),a("A")):(i({x:u,y:z}),a("B"))},S=(u,z)=>{l==="A"?x({x:Math.max(0,Math.min(13,u)),y:Math.max(0,Math.min(13,z))}):l==="B"&&i({x:Math.max(0,Math.min(13,u)),y:Math.max(0,Math.min(13,z))})},w=()=>{a(null)},$=14*32,C=14*32;return e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center text-sm",children:[e.jsxs("div",{className:"bg-secondary/50 px-3 py-1.5 rounded-lg",children:[e.jsx("span",{className:"text-muted-foreground",children:"A = "}),e.jsxs("span",{className:"font-mono font-semibold text-primary",children:["(",t.x,", ",t.y,")"]})]}),e.jsxs("div",{className:"bg-secondary/50 px-3 py-1.5 rounded-lg",children:[e.jsx("span",{className:"text-muted-foreground",children:"B = "}),e.jsxs("span",{className:"font-mono font-semibold",style:{color:"hsl(280, 70%, 55%)"},children:["(",s.x,", ",s.y,")"]})]}),e.jsxs("div",{className:"bg-secondary/50 px-3 py-1.5 rounded-lg",children:[e.jsx("span",{className:"text-muted-foreground",children:"dx = "}),e.jsx("span",{className:"font-mono font-semibold",children:k})]}),e.jsxs("div",{className:"bg-secondary/50 px-3 py-1.5 rounded-lg",children:[e.jsx("span",{className:"text-muted-foreground",children:"dy = "}),e.jsx("span",{className:"font-mono font-semibold",children:M})]}),e.jsxs("div",{className:"bg-green-100 px-3 py-1.5 rounded-lg",children:[e.jsx("span",{className:"text-muted-foreground",children:"N = "}),e.jsx("span",{className:"font-mono font-semibold text-green-700",children:b})]}),e.jsxs("div",{className:"bg-blue-100 px-3 py-1.5 rounded-lg",children:[e.jsx("span",{className:"text-muted-foreground",children:"Cells = "}),e.jsx("span",{className:"font-mono font-semibold text-blue-700",children:g.length})]})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:u=>n(u.target.checked),className:"rounded border-border"}),e.jsx("span",{className:"text-muted-foreground",children:"Show interpolation points"})]}),e.jsxs("svg",{width:$,height:C,className:"border border-border rounded-lg bg-card shadow-sm cursor-crosshair select-none",onMouseUp:w,onMouseLeave:w,children:[Array.from({length:14},(u,z)=>Array.from({length:14},(B,A)=>{const _=j.has(`${A},${13-z}`),V=A===t.x&&13-z===t.y,P=A===s.x&&13-z===s.y;return e.jsx("rect",{x:A*32,y:z*32,width:32,height:32,fill:V?"hsl(220, 90%, 56%)":P?"hsl(280, 70%, 60%)":_?"hsl(220, 90%, 85%)":"transparent",stroke:"hsl(220, 30%, 90%)",strokeWidth:1,className:"transition-colors duration-75",onMouseDown:()=>p(A,13-z),onMouseMove:()=>S(A,13-z)},`${A}-${z}`)})),e.jsx("line",{x1:t.x*32+32/2,y1:(13-t.y)*32+32/2,x2:s.x*32+32/2,y2:(13-s.y)*32+32/2,stroke:"hsl(220, 90%, 40%)",strokeWidth:2,strokeDasharray:"6 3",opacity:.5,pointerEvents:"none"}),h&&y.map((u,z)=>e.jsx("circle",{cx:u.continuous.x*32+32/2,cy:(13-u.continuous.y)*32+32/2,r:4,fill:"hsl(150, 80%, 45%)",opacity:.7,pointerEvents:"none"},z)),e.jsx("circle",{cx:t.x*32+32/2,cy:(13-t.y)*32+32/2,r:10,fill:"hsl(220, 90%, 56%)",stroke:"white",strokeWidth:3,className:"cursor-grab",onMouseDown:()=>a("A")}),e.jsx("text",{x:t.x*32+32/2,y:(13-t.y)*32+32/2+4,textAnchor:"middle",fill:"white",fontSize:"11",fontWeight:"bold",pointerEvents:"none",children:"A"}),e.jsx("circle",{cx:s.x*32+32/2,cy:(13-s.y)*32+32/2,r:10,fill:"hsl(280, 70%, 60%)",stroke:"white",strokeWidth:3,className:"cursor-grab",onMouseDown:()=>a("B")}),e.jsx("text",{x:s.x*32+32/2,y:(13-s.y)*32+32/2+4,textAnchor:"middle",fill:"white",fontSize:"11",fontWeight:"bold",pointerEvents:"none",children:"B"})]}),e.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-lg",children:"Drag points A and B around the grid. The algorithm calculates N = max(dx, dy), creates N+1 interpolation points, and rounds each to the nearest cell."})]})}function fe(){return e.jsx("div",{className:"bg-secondary/30 rounded-lg p-5 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-foreground leading-relaxed",children:`function drawLine(p0, p1):
    dx = |p1.x - p0.x|
    dy = |p1.y - p0.y|
    N = max(dx, dy)

    cells = []
    for step from 0 to N:
        t = step / N

        // Interpolate
        x = p0.x + (p1.x - p0.x) × t
        y = p0.y + (p1.y - p0.y) × t

        // Round to grid
        cells.add(round(x), round(y))

    return cells`})})}const ke=[e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-algo-title",padding:"lg",children:e.jsx(W,{id:"h2-algo-title",blockId:"block-algo-title",children:"The Complete Algorithm"})})},"layout-algo-title"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-algo-intro",padding:"sm",children:e.jsx(f,{id:"para-algo-intro",blockId:"block-algo-intro",children:"Let's put everything together! Here's the complete line drawing algorithm that combines linear interpolation with rounding to draw lines on a grid."})})},"layout-algo-intro"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-algo-code-title",padding:"sm",children:e.jsx(W,{id:"h2-algo-code",blockId:"block-algo-code-title",children:"The Algorithm"})})},"layout-algo-code-title"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-algo-code",padding:"md",children:e.jsx(fe,{})})},"layout-algo-code"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-algo-explain",padding:"sm",children:e.jsxs(f,{id:"para-algo-explain",blockId:"block-algo-explain",children:["The algorithm is remarkably simple: we calculate how many steps we need (N), then for each step we interpolate to find the continuous point and round it to the nearest grid cell. The key insight is using"," ",e.jsx(D,{latex:"N = \\max(|dx|, |dy|)"})," to ensure we never skip a cell."]})})},"layout-algo-explain"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-algo-demo-title",padding:"sm",children:e.jsx(W,{id:"h2-algo-demo",blockId:"block-algo-demo-title",children:"Interactive Demonstration"})})},"layout-algo-demo-title"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-algo-demo-text",padding:"sm",children:e.jsx(f,{id:"para-algo-demo",blockId:"block-algo-demo-text",children:"Try the algorithm yourself! Drag the endpoints around and watch the algorithm work in real-time. Notice how the line always connects smoothly, even at steep angles."})})},"layout-algo-demo-text"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-algo-demo",padding:"md",children:e.jsx(je,{})})},"layout-algo-demo"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-algo-why-title",padding:"sm",children:e.jsx(W,{id:"h2-algo-why",blockId:"block-algo-why-title",children:"Why This Works"})})},"layout-algo-why-title"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-algo-why",padding:"sm",children:e.jsx(f,{id:"para-algo-why",blockId:"block-algo-why",children:"The magic is in choosing N correctly. By using the maximum of dx and dy, we ensure that between any two consecutive sample points, we move at most one cell in either direction. This guarantees a connected line with no gaps!"})})},"layout-algo-why"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-algo-beauty",padding:"sm",children:e.jsx(f,{id:"para-algo-beauty",blockId:"block-algo-beauty",children:"This approach — using linear interpolation instead of the traditional Bresenham's algorithm — is not only easier to understand but equally fast on modern computers. It's a beautiful example of how simple mathematics can solve practical problems elegantly."})})},"layout-algo-beauty")],v={x:1,y:1},N={x:7,y:5};function Se(){const t=Math.abs(N.x-v.x),x=Math.abs(N.y-v.y),s=Math.max(t,x),i=[],l=new Set;for(let d=0;d<=s;d++){const g=s===0?0:d/s,y=Math.round(v.x+(N.x-v.x)*g),j=Math.round(v.y+(N.y-v.y)*g),k=`${y},${j}`;l.has(k)||(l.add(k),i.push({x:y,y:j}))}const a=new Set(i.map(d=>`${d.x},${d.y}`)),h=9*28,n=9*28;return e.jsxs("svg",{width:h,height:n,className:"border border-border rounded-lg bg-card",children:[Array.from({length:9},(d,g)=>Array.from({length:9},(y,j)=>{const k=a.has(`${j},${8-g}`);return e.jsx("rect",{x:j*28,y:g*28,width:28,height:28,fill:k?"hsl(220, 90%, 75%)":"transparent",stroke:"hsl(220, 30%, 90%)",strokeWidth:1},`${j}-${g}`)})),e.jsx("line",{x1:v.x*28+28/2,y1:(8-v.y)*28+28/2,x2:N.x*28+28/2,y2:(8-N.y)*28+28/2,stroke:"hsl(220, 90%, 40%)",strokeWidth:2,strokeDasharray:"4 2",opacity:.6}),e.jsx("circle",{cx:v.x*28+28/2,cy:(8-v.y)*28+28/2,r:6,fill:"hsl(220, 90%, 56%)",stroke:"white",strokeWidth:2}),e.jsx("circle",{cx:N.x*28+28/2,cy:(8-N.y)*28+28/2,r:6,fill:"hsl(280, 70%, 60%)",stroke:"white",strokeWidth:2})]})}function ze(){const t=[],x=new Set,s=N.x-v.x,i=N.y-v.y,l=Math.max(Math.abs(s),Math.abs(i))*10;for(let d=0;d<=l;d++){const g=l===0?0:d/l,y=v.x+s*g,j=v.y+i*g,k=Math.floor(y),M=Math.ceil(y),b=Math.floor(j),p=Math.ceil(j);for(const S of[k,M])for(const w of[b,p])if(S>=0&&S<9&&w>=0&&w<9){const $=`${S},${w}`;x.has($)||(x.add($),t.push({x:S,y:w}))}}const a=new Set(t.map(d=>`${d.x},${d.y}`)),h=9*28,n=9*28;return e.jsxs("svg",{width:h,height:n,className:"border border-border rounded-lg bg-card",children:[Array.from({length:9},(d,g)=>Array.from({length:9},(y,j)=>{const k=a.has(`${j},${8-g}`);return e.jsx("rect",{x:j*28,y:g*28,width:28,height:28,fill:k?"hsl(150, 70%, 75%)":"transparent",stroke:"hsl(220, 30%, 90%)",strokeWidth:1},`${j}-${g}`)})),e.jsx("line",{x1:v.x*28+28/2,y1:(8-v.y)*28+28/2,x2:N.x*28+28/2,y2:(8-N.y)*28+28/2,stroke:"hsl(150, 70%, 35%)",strokeWidth:2,strokeDasharray:"4 2",opacity:.6}),e.jsx("circle",{cx:v.x*28+28/2,cy:(8-v.y)*28+28/2,r:6,fill:"hsl(220, 90%, 56%)",stroke:"white",strokeWidth:2}),e.jsx("circle",{cx:N.x*28+28/2,cy:(8-N.y)*28+28/2,r:6,fill:"hsl(280, 70%, 60%)",stroke:"white",strokeWidth:2})]})}function we(){const t=[{x:v.x,y:v.y}];let x=v.x,s=v.y;const i=N.x-v.x,l=N.y-v.y,a=1,h=1,n=Math.abs(i),d=Math.abs(l);let g=n-d;for(;x!==N.x||s!==N.y;){const M=2*g;M>-d&&x!==N.x&&(g-=d,x+=a,t.push({x,y:s})),M<n&&s!==N.y&&(g+=n,s+=h,t.push({x,y:s}))}const y=new Set(t.map(M=>`${M.x},${M.y}`)),j=9*28,k=9*28;return e.jsxs("svg",{width:j,height:k,className:"border border-border rounded-lg bg-card",children:[Array.from({length:9},(M,b)=>Array.from({length:9},(p,S)=>{const w=y.has(`${S},${8-b}`);return e.jsx("rect",{x:S*28,y:b*28,width:28,height:28,fill:w?"hsl(280, 70%, 80%)":"transparent",stroke:"hsl(220, 30%, 90%)",strokeWidth:1},`${S}-${b}`)})),t.slice(1).map((M,b)=>e.jsx("line",{x1:t[b].x*28+28/2,y1:(8-t[b].y)*28+28/2,x2:M.x*28+28/2,y2:(8-M.y)*28+28/2,stroke:"hsl(280, 70%, 50%)",strokeWidth:2,opacity:.6},b)),e.jsx("circle",{cx:v.x*28+28/2,cy:(8-v.y)*28+28/2,r:6,fill:"hsl(220, 90%, 56%)",stroke:"white",strokeWidth:2}),e.jsx("circle",{cx:N.x*28+28/2,cy:(8-N.y)*28+28/2,r:6,fill:"hsl(280, 70%, 60%)",stroke:"white",strokeWidth:2})]})}function Y({title:c,description:r,children:t}){return e.jsxs("div",{className:"flex flex-col items-center gap-3 p-4 bg-secondary/20 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-foreground text-center",children:c}),e.jsx("div",{className:"flex justify-center",children:t}),e.jsx("p",{className:"text-xs text-muted-foreground text-center max-w-[200px]",children:r})]})}const ve=[e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-var-title",padding:"lg",children:e.jsx(W,{id:"h2-var-title",blockId:"block-var-title",children:"Variations & Extensions"})})},"layout-var-title"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-var-intro",padding:"sm",children:e.jsx(f,{id:"para-var-intro",blockId:"block-var-intro",children:"The interpolation algorithm we learned is just one approach. Depending on your needs, there are other ways to draw lines on grids. Here are three common variations compared side by side:"})})},"layout-var-intro"),e.jsx(m,{maxWidth:"xl",children:e.jsxs(ne,{columns:3,gap:"md",children:[e.jsx(o,{id:"block-var-basic",padding:"none",children:e.jsx(Y,{title:"Basic Line",description:"Our algorithm: interpolate and round. Clean, simple path from A to B.",children:e.jsx(Se,{})})}),e.jsx(o,{id:"block-var-supercover",padding:"none",children:e.jsx(Y,{title:"Supercover Line",description:"Includes ALL cells the mathematical line touches. Good for collision detection.",children:e.jsx(ze,{})})}),e.jsx(o,{id:"block-var-orthogonal",padding:"none",children:e.jsx(Y,{title:"Grid Walking",description:"Only horizontal and vertical steps. No diagonals. Used in some pathfinding.",children:e.jsx(we,{})})})]})},"layout-var-grid"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-var-when-title",padding:"sm",children:e.jsx(W,{id:"h2-var-when",blockId:"block-var-when-title",children:"When to Use Each Variation"})})},"layout-var-when-title"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-var-when",padding:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg",children:[e.jsx(G,{id:"h3-var-basic",blockId:"block-var-when",children:"Basic Line (Interpolation)"}),e.jsx(f,{id:"para-var-basic",blockId:"block-var-when",children:"Best for: Drawing graphics, rendering shapes, simple path visualization. This is the most common choice for general-purpose line drawing."})]}),e.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded-r-lg",children:[e.jsx(G,{id:"h3-var-supercover",blockId:"block-var-when",children:"Supercover Line"}),e.jsx(f,{id:"para-var-supercover",blockId:"block-var-when",children:"Best for: Collision detection, line-of-sight calculations, raycasting. Use when you need to know EVERY cell a line passes through."})]}),e.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-4 rounded-r-lg",children:[e.jsx(G,{id:"h3-var-orthogonal",blockId:"block-var-when",children:"Grid Walking (Orthogonal)"}),e.jsx(f,{id:"para-var-orthogonal",blockId:"block-var-when",children:"Best for: Pathfinding in games with 4-directional movement, maze navigation. Use when diagonal movement isn't allowed."})]})]})})},"layout-var-when"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-var-conclusion-title",padding:"sm",children:e.jsx(W,{id:"h2-var-conclusion",blockId:"block-var-conclusion-title",children:"What You've Learned"})})},"layout-var-conclusion-title"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-var-conclusion",padding:"sm",children:e.jsx(f,{id:"para-var-conclusion",blockId:"block-var-conclusion",children:"Congratulations! You now understand how computers draw lines on grids. You've learned about linear interpolation, converting continuous coordinates to discrete cells, and seen different variations for different use cases. These fundamentals appear everywhere — from simple graphics to complex game engines."})})},"layout-var-conclusion"),e.jsx(m,{maxWidth:"xl",children:e.jsx(o,{id:"block-var-next",padding:"md",children:e.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl p-6 text-center",children:e.jsxs(f,{id:"para-var-next",blockId:"block-var-next",children:[e.jsx("strong",{children:"Want to explore more?"})," Try implementing these algorithms yourself, or explore topics like anti-aliasing (smoother lines) and 3D line drawing!"]})})})},"layout-var-next")];le.getState().initialize(de());se(q);const We=[...he,...ge,...be,...ke,...ve];export{We as blocks};
